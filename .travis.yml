dist: trusty
sudo: required
language: python
python:
    - "3.4_with_system_site_packages"
branches:
    - master
before_install:
    - "sudo apt-get -y update"
    - "sudo apt-get install -y python3-pip python3-gi python3-gobject gir1.2-gtk-3.0 meson ninja"
    - "export DISPLAY=:99.0"
    - "sh -e /etc/init.d/xvfb start"
    - "sleep 3;"
install:
    - "sudo pip3 install cairosvg pylint"
    - "sudo pip3 install --upgrade meson"
    - "meson builddir --prefix=/usr"
    - "sudo ninja -C builddir install"
script:
    - "find -name \"/usr/lib/python3.4/site-packages/HardcodeTray/*.py\" | xargs pylint --rcfile=.pylintrc $1"
